(this["webpackJsonpweatherman-react-training"]=this["webpackJsonpweatherman-react-training"]||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(31),a=n.n(r)()("Search"),c=a.async("FETCH_LOCATIONS"),o=a("LOCATION_SELECTED")},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(31),a=n.n(r)()("Details").async("FETCH_FORECAST")},51:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(40),o=(n(51),n(29)),i=n(3),s=n(39),u=n(26),d=n(43),l=n(12),f=n(30),j=n(14),b=Object(f.reducerWithInitialState)({searchResults:[],loading:!1}).case(j.a.started,(function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0,searchResults:[],error:void 0})})).case(j.a.failed,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error})})).case(j.a.done,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,searchResults:t.result})})),h=n(17),p=Object(f.reducerWithInitialState)({loading:!1}).case(j.b,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{selectedLocation:t})})).case(h.a.started,(function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})})).case(h.a.failed,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error})})).case(h.a.done,(function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,forecast:t.result})})),O=n(4),m=n.n(O),x=n(13);function v(e){return fetch("http://api.openweathermap.org/data/2.5/find?&units=metric&type=like&mode=json&APPID=d14a2d48e99a8e66fa820f8612456f5d&q="+e).then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch locations "+e.statusText)})).then((function(e){return e})).then((function(e){return e.list}))}function w(e){return fetch("http://api.openweathermap.org/data/2.5/forecast/daily?units=metric&cnt=5&type=like&mode=json&APPID=d14a2d48e99a8e66fa820f8612456f5d&id="+e).then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch forecast "+e.statusText)})).then((function(e){return e}))}var g,y,k=function(e){return{list:e.list.map((function(e){return function(e){var t=new Date(1e3*e.dt).toLocaleDateString("en-us",{weekday:"short"});return{dt:e.dt,dt_txt:t,main:{temp:e.temp.day,humidity:e.humidity,pressure:e.pressure,temp_max:e.temp.max,temp_min:e.temp.min},weather:e.weather}}(e)})),count:e.cnt}},E=m.a.mark(T),S=m.a.mark(I),D=m.a.mark(L);function T(e){var t,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(x.b)(v,t);case 4:if(!(n=r.sent)){r.next=8;break}return r.next=8,Object(x.c)(j.a.done({params:e.payload,result:n}));case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(x.c)(j.a.failed({params:e.payload,error:r.t0}));case 14:case"end":return r.stop()}}),E,null,[[1,10]])}function I(e){var t,n,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(x.b)(w,t);case 4:if(!(n=a.sent)){a.next=9;break}return r=k(n),a.next=9,Object(x.c)(h.a.done({params:e.payload,result:r}));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(x.c)(h.a.failed({params:e.payload,error:a.t0}));case 15:case"end":return a.stop()}}),S,null,[[1,11]])}function L(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(j.a.started,T);case 2:return e.next=4,Object(x.d)(h.a.started,I);case 4:case"end":return e.stop()}}),D)}!function(e){e.HOME="/",e.DETAILS="/details"}(g||(g={}));var A=m.a.mark(R);function C(){y(g.DETAILS)}function R(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(j.b,C);case 2:case"end":return e.stop()}}),A)}var _=m.a.mark(P);function P(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([L(),R()]);case 2:case"end":return e.stop()}}),_)}var F=n(42),H=Object(F.createLogger)({predicate:function(){return!0}}),z=Object(u.b)({search:b,details:p}),J=Object(d.a)(),M=[J,H],N=Object(u.c)(u.a.apply(void 0,M)),W=Object(u.d)(z,N);J.run(P);var q=n(10),B=function(){return Object(q.jsx)("p",{children:"Loading..."})},U=n(15),G=n(18),K=n(19),Q=n(20),V={hasError:!1},X=function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state=V,e._onReloadPage=function(){window.location.reload()},e}return Object(G.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught error:",e,t)}},{key:"render",value:function(){return this.state.hasError?Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:"Something went wrong..."}),Object(q.jsx)("button",{onClick:this._onReloadPage,children:"Retry"})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.a.PureComponent),Y=function(e){var t=e.children;return Object(q.jsx)(X,{children:Object(q.jsx)(r.Suspense,{fallback:Object(q.jsx)(B,{}),children:Object(q.jsx)(i.c,{children:t})})})},Z={Search:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,67))})),Details:Object(r.lazy)((function(){return n.e(3).then(n.bind(null,66))}))},$=function(){var e=Object(i.o)();return y=e,null},ee=function(){return Object(q.jsx)(s.a,{store:W,children:Object(q.jsxs)(o.a,{basename:"/weatherman-react-training-training/",children:[Object(q.jsx)($,{}),Object(q.jsxs)(Y,{children:[Object(q.jsx)(i.a,{path:g.HOME,element:Object(q.jsx)(Z.Search,{})}),Object(q.jsx)(i.a,{path:g.DETAILS,element:Object(q.jsx)(Z.Details,{})})]})]})})},te=document.getElementById("root");Object(c.createRoot)(te).render(Object(q.jsx)(ee,{}))}},[[59,1,2]]]);
//# sourceMappingURL=main.fde71169.chunk.js.map